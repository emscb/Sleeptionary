<!DOCTYPE html>
<html>
    <head>
        <title>Overview</title>
        <meta charset="utf-8">
        <link rel="stylesheet" href="./Web/style.css">
        <script>
            function readFile() {
                var client = new XMLHttpRequest();
                client.open('GET', "https://raw.githubusercontent.com/emscb/Sleeptionary/master/Web/data.txt");
                client.onreadystatechange = function() {
                    if (client.responseText != '') {
                        var txt = client.responseText.split('\n');
                        document.getElementById("1ago").innerHTML = txt[6];
                        document.getElementById("2ago").innerHTML = txt[5];
                        document.getElementById("3ago").innerHTML = txt[4];
                        document.getElementById("4ago").innerHTML = txt[3];
                        document.getElementById("5ago").innerHTML = txt[2];
                        document.getElementById("6ago").innerHTML = txt[1];
                        document.getElementById("7ago").innerHTML = txt[0];
                        document.getElementById("temperature").innerHTML = txt[7];
                        document.getElementById("humidity").innerHTML = txt[8];
                    }
                }
                client.send();
            }
            function setDate() {
                var today = new Date();
                var d = String(today.getDate()).padStart(2, '0');
                var m = String(today.getMonth() + 1).padStart(2, '0');
                var y = today.getFullYear();

                today = y + '/' + m + '/' + d;
            }
        </script>
    </head>
    <body onload="readFile()">
    <h1><a href="index.html">ㅇㅇㅇ님의 수면 기록</a></h1>
        <div id="grid">
            <div class="record">
                <ul>
                    <li><a id="1ago" href="./Web/1ago.html"></a></li>
                    <li><a id="2ago" href="./Web/2ago.html"></a></li>
                    <li><a id="3ago" href="./Web/3ago.html"></a></li>
                    <li><a id="4ago" href="./Web/4ago.html"></a></li>
                    <li><a id="5ago" href="./Web/5ago.html"></a></li>
                    <li><a id="6ago" href="./Web/6ago.html"></a></li>
                    <li><a id="7ago" href="./Web/7ago.html"></a></li>
                </ul>
            </div>
            <div id="graph">
                <img src="https://github.com/emscb/Sleeptionary/blob/master/Web/images/overview.png?raw=true">
            </div>
            <div id="tm">
                <div class="graph">
                    <img src="https://github.com/emscb/Sleeptionary/blob/master/Web/images/overview_tm.png?raw=true" width="430px">
                </div>
                <div class="recommend">
                    <h2>추천 온도</h2>
                    <span id="temperature"></span>˚C
                </div>
            </div>
            <div id="hd">
                <div class="graph">
                    <img src="https://github.com/emscb/Sleeptionary/blob/master/Web/images/overview_hd.png?raw=true" width="430px">
                </div>
                <div class="recommend">
                    <h2>추천 습도</h2>
                    <span id="humidity"></span>%
                </div>
            </div>
        </div>
    </body>
</html>